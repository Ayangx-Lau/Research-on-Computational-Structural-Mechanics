! 定义单元类型和模型材料属性
ET,1,PLANE183              ! 定义平面应变单元
KEYOPT,1,3,3               ! 平面应变设置
MP,EX,1,2E8                ! 定义弹性模量为2e8
MP,NUXY,1,0.3              ! 定义泊松比为0.3

! 定义塑性材料模型
PLASTIC,1                  ! 激活塑性模型
PL,1,0.0,4E5               ! 初始塑性应变下的应力为4e5
PL,2,0.01,5E5              ! 当塑性应变为0.01时，应力为5e5
PL,3,10.01,20.5E6          ! 当塑性应变为10.01时，应力为20.5e6

! 建立几何模型：正方形区域，减去两个三角形
BLC4,0,50,0,50             ! 创建一个50x50的正方形
! 左上三角形区域
K,1,0,45
K,2,40,45
K,3,0,5
LSTR,1,2,3                 ! 左上三角形
D,ALL,ALL                  ! 删除上面三角形区域

! 右下三角形区域对称于y=x
K,4,45,50
K,5,50,50
K,6,50,45
LSTR,4,5,6                 ! 右下三角形
D,ALL,ALL                  ! 删除右下三角形区域

! 镜像操作：X轴和Y轴方向
/Mirror, X                 ! X方向镜像
/Mirror, Y                 ! Y方向镜像

! 网格划分
LESIZE,ALL,2               ! 网格等级设置为2
LMESH,ALL                  ! 执行网格划分

! 定义边界条件：y方向上的固定
DK,ALL,UY,0                ! 上下边界所有节点y方向固定
! 左右边界施加位移
NSEL, S, LOC, X, 0         ! 选择左侧所有节点
D,ALL,UX,0                 ! 固定左侧x方向位移
NSEL, S, LOC, X, 50        ! 选择右侧所有节点
D,ALL,UX,1                 ! 右侧施加总位移为1

! 设置求解过程：静力分析
SOLVE                      ! 开始静力求解

! 循环进行拉伸分析
TIME,100                   ! 设定100个时间步
INC,100                    ! 每个时间步增量为0.01
LSUB,1                     ! 拉伸分析

! 求解并结束
FINISH
